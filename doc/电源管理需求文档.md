# 电源管理需求文档

### 目录
```
1.托盘图标
2.任务栏上弹出窗口
3.亮度调节界面
4.消息通知
5.后台服务
6.upower封装
7.upower代码改动
8.低电量处理
9.文档输出
```


## 托盘图标
```
功能点罗列：
1.支持显示正确的图标
2.区分台式机与笔记本（台式机上不显示图标）
3.支持悬浮显示tooltip
4.支持右键弹出窗口
5.支持选择显示剩余充电时间


需求分析：
1.通过upower接口获取图标名称
2.通过upower获取电量
3.通过upower获取电量改变的信号
4.通过upower封装的接口获取剩余多久充满电（需要用upower封装的接口原因是原生接口数值波动过大）
```


## 任务栏上弹出窗口
```
功能点罗列：
1.支持显示在正确的位置（包括多屏，并且需要监听屏幕改变）
2.支持透明度与毛玻璃效果
3.支持圆角阴影
4.支持跟随主题
5.支持跟随文字大小变化
6.界面内的图标与托盘图标保持一致
7.界面内的文字保持与托盘tooltip一致
```

## 亮度调节界面
```
功能点罗列：
1.支持透明度与毛玻璃效果
2.支持圆角阴影
3.支持跟随主题
4.支持图标高亮协议
5.支持双屏显示
6.绑定快捷键显示
7.禁止显示10%以下亮度
```


## 消息通知
```
功能点罗列
1.接收upower的信号和电量，进行消息通知
```

## 低电量处理
```
功能点罗列：
1.电池低电量之后自动进入省电模式
2.使用电池时自动进入节能模式
3.低电量通知
4.极低电量关机等功能
```


## 后台服务
```
功能点罗列：
一. 合盖处理
二. 关机键处理
三. 空闲处理

合盖处理
1. 选择合盖子之后的操作，调用相关接口即可

关机键处理
1. 选择关机键按下之后的操作即可

空闲处理
1.关闭显示器
2.睡眠/休眠
3.降低屏幕亮度


```